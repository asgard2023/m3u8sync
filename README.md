# m3u8sync Sync m3u8 files by nginx 
* 需要把m3u8文件挂到nginx下，以提供对外下载（可以在防火墙配IP白名单）
* 可以开启nginx gzip压缩

## 使用场景
* m3u8视频备份或同步
* 跨区同步，网络不太好的情况
* 内存要求低，64M内存就可以运行

## m3u8sync主服务
* 基于nginx下载的m3u8同步服务，可用于跨地域同步，网络差的情况。
* 支持nginx的gzip，即下载时可走gzip模式，以降低流量。
* 支持按单个m3u8进行同步。
* 支持ts已下载只检查大小一致就不再重新下载，即m3u8下载一半出错，则下次已完成不会重新下载。
* 支持ts下载不全，则删掉重新下载。
* 支持m3u8的所有ts全部下载完成后回调服务，回调失败可多次回调。
* 下载未完成，失败次数超过5次的，不再下载，加入异常队列
* 异常队列每小时重新加入下载队列，以便于重新下载。
* 下载完成后进行回调通知，回调失败也当做异常，加入异常队列
* 直到下载完成，并进行回调通知，才从下载队列删除。

## m3u8sync-call-demo调用服务示例（支持回调）
* 增加同步时可传入回调接口地址。
* 下载完成后，按传入的回调接口地址进行回调通知。